.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
.TH DUMPYKOTA "1" "juillet 2007" "C@LL - Conseil Internet & Logiciels Libres" "User Commands"
.SH NOM
dumpykota \- page de manuel de dumpykota 1.26_official
.SH DESCRIPTION
dumpykota v1.26_official (c) 2003, 2004, 2005, 2006, 2007 Jerome Alet \- alet@librelogiciel.com
.PP
Exporte le contenu de la base de données de PyKota.
.PP
ligne de commande :
.IP
dumpykota [options] [exprfiltre]
.PP
options :
.TP
\fB\-v\fR | \fB\-\-version\fR
Affiche la version de dumpykota et quitte.
.TP
\fB\-h\fR | \fB\-\-help\fR
Affiche ce message et quitte.
.TP
\fB\-d\fR | \fB\-\-data\fR type
Exporte les données de type 'type'.
Les types autorisés sont :
.IP
\- history : exporte l'historique des travaux.
\- users : exporte les utilisateurs.
\- groups : exporte les groupes d'utilisateurs.
\- printers : exporte les imprimantes.
\- upquotas : exporte les quotas des utilisateurs.
\- gpquotas : exporte les quotas des groupes.
\- payments : exporte l'historique des paiements.
\- pmembers : exporte les membres des groupes
.IP
d'imprimantes.
.IP
\- umembers : exporte les membres des groupes
.IP
d'utilisateurs.
.IP
\- billingcodes : exporte les codes de facturation.
\- all : exporte toutes les données de PyKota.
.IP
le format de sortie est toujours XML
dans ce cas.
.IP
NB : l'option de ligne de commande \fB\-d\fR | \fB\-\-data\fR est
OBLIGATOIRE.
.TP
\fB\-f\fR | \fB\-\-format\fR fmt
Exporte les données dans le format 'fmt' spécifié.
Si non précisé, le format sera csv (champs séparés
par des virgules).
Toutes les données sont exportées entre double quotes.
Les formats autorisés sont :
.IP
\- csv : données séparées par des virgules
\- ssv : données séparées par des point\-virgules
\- tsv : données séparés par des tabulations
\- xml : données exportées au format XML
\- cups : données exportées au format page_log
.IP
de CUPS : DISPONIBLE SEULEMENT
.IP
AVEC \fB\-\-data\fR history
.TP
\fB\-o\fR | \fB\-\-output\fR nomf
Toutes les données seront exportées vers un fichier
plutôt que vers la sortie standard. Le nom spécial '\-'
est la valeur par défaut indiquant la sortie standard.
ATTENTION : les fichiers existants sont tronqués !
.TP
\fB\-O\fR | \fB\-\-orderby\fR exp
Change l'ordre des résultats. 'exp' est une liste
séparée par des virgules d'instructions de tri, par
exemple '\-\-orderby +username,\-printername'. Seules
certaines expressions on un sens, aussi utiliser cette
option de ligne de commande n'est pas conseillé si
vous ne connaissez pas la structure exacte de la base
de données de PyKota.
.TP
\fB\-s\fR | \fB\-\-sum\fR
Effectue la somme des données sélectionnées.
DISPONIBLE SEULEMENT AVEC \fB\-\-data\fR history ou payments
.IP
Utilisez les expressions de filtrage pour extraire seulement certaines
parties des données. Les filtres autorisés sont de la forme :
.IP
clé=valeur
.IP
Les clés autorisées pour l'instant sont :
.TP
username
Nom de l'utilisateur
.TP
groupname
Nom du groupe d'utilisateurs
.TP
printername
Nom de l'imprimante
.TP
pgroupname
Nom du groupe d'imprimantes
.TP
hostname
Nom d'hôte de la machine cliente
.TP
jobid
Id du travail d'impression
.TP
billingcode
Code de facturation du travail d'impression
.TP
start
Date du travail d'impression
.TP
end
Date du travail d'impression
.IP
Formatage des dates avec les clés 'start' et 'end' :
.IP
AAAA : limites d'année
AAAAMM : limites de mois
AAAAMMJJ : limites de jour
AAAAMMJJhh : limites d'heures
AAAAMMJJhhmm : limites de minutes
AAAAMMJJhhmmss : limites de secondes
yesterday[+\-NbJours] : hier plus ou moins N jours (ex : yesterday\-15)
today[+\-NbJours] : aujoud'hui plus ou moins N jours (ex : today\-15)
tomorrow[+\-NbJours] : demain plus ou moins N jours (ex : tomorrow\-15)
now[+\-NbJours] : maintenant plus ou moins N jours (ex : now\-15)
.IP
\&'now' et 'today' ne sont pas exactement identiques car today représente
la première ou la dernière seconde du jour selon qu'il soit utilisé avec
une expression de type start= ou end=.
L'utilité de pouvoir spécifier une date dans le future est une question
qui reste ouverte :\-)
.IP
Contrairement aux autres outils d'administration de PyKota, les caractères
jokers ne sont pas expansés, aussi vous ne pouvez pas les utiliser.
.IP
NB : toutes les clés ne sont pas autorisées pour chaque type de données,
aussi le résultat peut être vide si vous utilisez une clé indisponible
pour un type de données particulier.
.PP
Exemples :
.IP
\f(CW$ dumpykota --data history --format csv >monfichier.csv\fR
.IP
Ceci va exporter l'historique dans un fichier à champs séparés par des
virgules, par exemple pour réimportation dans un tableur.
.IP
\f(CW$ dumpykota --data users --format xml -o util.xml\fR
.IP
Exporte toutes les données des utilisateurs dans le fichier util.xml
.IP
\f(CW$ dumpykota --data history printername=HP2100 username=jerome\fR
.IP
Exporte l'historique des travaux de l'utilisateur jerome sur l'imprimante
HP2100 seulement.
.IP
\f(CW$ dumpykota --data history start=200503 end=20050730234615\fR
.IP
Exporte tous les travaux imprimés entre le 1er Mars 2005 à minuit et
le 30 Juillet 2005 à 23 heures 46 minutes et 15 secondes inclus.
.PP
This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.
.PP
This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
.PP
You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110\-1301, USA.
.PP
Merci d'envoyer les rapports de bugs à : Jerome Alet \- alet@librelogiciel.com
